<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>EqSimIO: README.formats File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>README.formats File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" name="overview">
Overview</a></h2>
EqSim dumps point, surface, and volume output into two types of files. One file holds the information defining the geometry of the output while the other holds the time series for fields associated with the geometry (i.e., nodes and elements). The geometry file contains locations of nodes and the topology of the geometry, which is given as connectivity arrays that specify how nodes are connected to form elements. Geometry files for point data sets do not contain elements. The elements for surface data are 3-node triangles and the elements for volume data are 4-node tetrahedra.<h2><a class="anchor" name="conventions">
Conventions</a></h2>
<h3><a class="anchor" name="layout">
Layout</a></h3>
name_of_value_1 name_of_value_2 [type_of_value_1 type_of_value_2]<p>
Optionally, there will be text in paratheses which provides additional information. When a specific value is expected, the syntax is (=value). When a value may take on only specific values, the syntax is (possible values: 'value1', 'value2').<h3><a class="anchor" name="types">
Types</a></h3>
<ul>
<li><b>int32_t</b> signed 32 bit integer </li>
<li><b>uint32_t</b> unsigned 32 bit integer </li>
<li><b>int64_t</b> signed 64 bit integer </li>
<li><b>uint64_t</b> unsigned 64 bit integer </li>
<li><b>float</b> 32 bit floating point number </li>
<li><b>double</b> 64 bit floating point number </li>
<li><b> ASCII chars</b> characters </li>
<li><b>string</b> unsigned 32 bit specifying number of characters in the string followed by the ASCII chars making up the string</li>
</ul>
<h2><a class="anchor" name="geometry">
Format of Geometry Files (*.mesh)</a></h2>
<h3><a class="anchor" name="description">
Description</a></h3>
This is a binary file describing the geometry (location of points and topology) of the dataset. Note line breaks are for ease of reading; the file does not contain line breaks.<h3><a class="anchor" name="header">
Header</a></h3>
<div class="fragment"><pre class="fragment">
Magic_header_string [ASCII chars] (='#EQSIM.mesh  ')
Endian_type_string [ASCII chars]
  (possible values: 'LIL ENDIAN', 'BIG ENDIAN')
Format_version [uint32_t] (=2)
Mesh_ID [int32_t] (should match Mesh ID in data file)
</pre></div><h3><a class="anchor" name="data">
Data</a></h3>
<div class="fragment"><pre class="fragment">
UTM_zone x y z [string float float float] (origin of domain, ignore)

number_of_nodes [uint32_t]
Repeat for each node:
  x0 y0 z0 [float float float]
  ...
  xN yN zN [float float float]

number_of_elements_sets  size_of_element_connectivity [uint32_t uint32_t]
Repeat for each set of elements:
  name [string]
  region_tag  number_of_elements  [uint32_t uint32_t]
  Repeat for each element: 
    index0 index1 ... indexN [uint32_t uint32_t ... uint32_t]
      (index of node in coordinates array for each node in the
      element; indices begin with 0 and have a consistent ordering
      across all elements)
</pre></div><h2><a class="anchor" name="dataB">
Format of Data Files</a></h2>
<h3><a class="anchor" name="overview">
Overview</a></h3>
The data files contain values associated with a field specified over the domain. Node values are values of fields specified at the nodes of the elements. The elements specify the linear variation of the field using the values of the field specified at the nodes (just as one would guess). Element values are values of fields at the element centroids. These values are uniform throughout the element.<h3><a class="anchor" name="header">
Header</a></h3>
<div class="fragment"><pre class="fragment">
Magic_header_string [ASCII chars] (='#EQSIM.data  ')
Endian_type_string [ASCII chars]
  (possible values: 'LIL ENDIAN', 'BIG ENDIAN')
Format_version [uint32_t] (=3)
Mesh_ID  Simulation_ID [int32_t int32_t]
  (Mesh ID should match Mesh ID in mesh file)
\verbatim
 *
 * @subsection data Data
 *
\verbatim
number_of_timesteps [uint32_t]
time_step [float]

number_of_nodes [uint32_t]
number_of_values_per_node [uint32_t]

number_of_element_sets [uint32_t]
Repeat for each element set:
  number_of_elements_in_set [uint32_t]
number_of_values_per_element [uint32_t]

Repeat for each time step:
  time [float]
  Repeat for each node:
    node0_value0  ... node0_valueN [float float ... float]
    ...
    nodeN_value0  ... nodeN_valueN
  Repeat for each element set:
    Repeat for each element:
      element0_value0 ... element0_valueN [float float ... float]
      ...
      elementN_value0 ... elementN_valueN [float float ... float]
</pre></div><h2><a class="anchor" name="fields">
Fields in Point and Surface Data Files</a></h2>
<h3><a class="anchor" name="vel">
*.vel</a></h3>
Contains 3 components of velocity. All values are in m/s.<p>
<ul>
<li>
Node values: <ul>
<li>
0: east component  </li>
<li>
1: north component  </li>
<li>
2: up component  </li>
</ul>
</li>
<li>
Element values: <ul>
<li>
none </li>
</ul>
<p>
</li>
</ul>
<h2><a class="anchor" name="values">
Displacement, Velocity, Acceleration</a></h2>
Velocity time histories are provided. The relationships between displacement, velocity, and acceleration are (central difference-method):<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \dot{u}(t) = \frac{1}{(2 \Delta t)}(u(t+\Delta t) - u(t-\Delta t)) \]" src="form_7.png">
<p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ \ddot{u}(t) = \frac{1}{\Delta t^2} (u(t-\Delta t) - 2 u(t) + u(t+\Delta t) ) \]" src="form_8.png">
<p>
 <hr size="1"><address style="align: right;"><small>Generated on Tue Nov 13 08:58:14 2007 for EqSimIO by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
