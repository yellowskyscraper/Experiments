<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_16) on Wed Mar 04 22:10:28 EST 2009 -->
<TITLE>
MapRequestHandler (OpenMap API)
</TITLE>

<META NAME="keywords" CONTENT="com.bbn.openmap.image.MapRequestHandler class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="MapRequestHandler (OpenMap API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MapRequestHandler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/bbn/openmap/image/PNG32ImageFormatter.html" title="class in com.bbn.openmap.image"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/bbn/openmap/image/MapRequestHandler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MapRequestHandler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.bbn.openmap.image</FONT>
<BR>
Class MapRequestHandler</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../com/bbn/openmap/image/ImageServer.html" title="class in com.bbn.openmap.image">com.bbn.openmap.image.ImageServer</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.bbn.openmap.image.MapRequestHandler</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html" title="interface in com.bbn.openmap.image">ImageServerConstants</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html" title="interface in com.bbn.openmap.image">WMTConstants</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>MapRequestHandler</B><DT>extends <A HREF="../../../../com/bbn/openmap/image/ImageServer.html" title="class in com.bbn.openmap.image">ImageServer</A><DT>implements <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html" title="interface in com.bbn.openmap.image">ImageServerConstants</A></DL>
</PRE>

<P>
The MapRequestHandler is the front end for String requests to the
 ImageServer. It's goal is to be able to handle OpenGIS WMT mapserver
 requests, so the String request format is in the same format. We've included
 some OpenMap extensions to that format, so an OpenMap projection can be
 defined.
 <P>
 
 The MapRequestHandler should be able to handle map requests, resulting in a
 map image, and capabilities requests, so a client can find out what layers,
 projection types and image formats are available.
 <P>
 
 If the 'layers' property is not defined the openmap.properties file, then the
 'openmap.layers' property will be used, and the 'openmap.startUpLayers'
 property will be used to define the default set of layers. This lets there be
 more layers available to the client than would be sent by default (if the
 client doesn't specify layers).
 <P>
 
 The MapRequestHandler assumes that the ProjectionFactory shared instance has
 ProjectionLoaders added to it to let it know how to handle different
 projection names. A call to ProjectionFactory.loadDefaultProjections() will
 take care of this requirement if you just want the standard projections
 loaded.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#defaultLayers">defaultLayers</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comma-separated list of layer scoping prefixes that specify what layers,
 and their order, should be used for default images where layers are not
 specified in the request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#defaultLayersProperty">defaultLayersProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#DefaultLayersProperty">DefaultLayersProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The real new property for doing this.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#defaultProjection">defaultProjection</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The default projection that provides projection parameters that are
 missing from the request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#hexSeparator">hexSeparator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#useVisibility">useVisibility</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The layers' visibility will be set to true at initialization if this
 property is set, and the layers' visibility will determine if a layer
 will be part of the image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#UseVisibilityProperty">UseVisibilityProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The property for using visibility of the layers to mark the default
 layers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#valueSeparator">valueSeparator</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.bbn.openmap.image.ImageServer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.bbn.openmap.image.<A HREF="../../../../com/bbn/openmap/image/ImageServer.html" title="class in com.bbn.openmap.image">ImageServer</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#AntiAliasingProperty">AntiAliasingProperty</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#background">background</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#BackgroundProperty">BackgroundProperty</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#doAntiAliasing">doAntiAliasing</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#formatter">formatter</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#imageFormatters">imageFormatters</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageFormattersProperty">ImageFormattersProperty</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServerLayersProperty">ImageServerLayersProperty</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#layers">layers</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#OpenMapPrefix">OpenMapPrefix</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#propertiesPrefix">propertiesPrefix</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.bbn.openmap.image.ImageServerConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.bbn.openmap.image.<A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html" title="interface in com.bbn.openmap.image">ImageServerConstants</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#AZIMUTH">AZIMUTH</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#LAT">LAT</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#LAYERMASK">LAYERMASK</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#LAYERS">LAYERS</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#LON">LON</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#PAN">PAN</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#PROJTYPE">PROJTYPE</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#QUERY">QUERY</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#RECENTER">RECENTER</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#SCALE">SCALE</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#X">X</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html#Y">Y</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.bbn.openmap.image.WMTConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.bbn.openmap.image.<A HREF="../../../../com/bbn/openmap/image/WMTConstants.html" title="interface in com.bbn.openmap.image">WMTConstants</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#BBOX">BBOX</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#BGCOLOR">BGCOLOR</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#CAPABILITIES">CAPABILITIES</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#CRS">CRS</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#EXCEPTIONS">EXCEPTIONS</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#FORMAT">FORMAT</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#GETCAPABILITIES">GETCAPABILITIES</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#GETFEATUREINFO">GETFEATUREINFO</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#GETMAP">GETMAP</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#HEIGHT">HEIGHT</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_GEOTIFF">IMAGEFORMAT_GEOTIFF</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_GIF">IMAGEFORMAT_GIF</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_JPEG">IMAGEFORMAT_JPEG</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_PNG">IMAGEFORMAT_PNG</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_PPM">IMAGEFORMAT_PPM</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_SVG">IMAGEFORMAT_SVG</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_TIFF">IMAGEFORMAT_TIFF</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#IMAGEFORMAT_WBMP">IMAGEFORMAT_WBMP</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#INFO_FORMAT">INFO_FORMAT</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#MAP">MAP</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#QUERY_LAYERS">QUERY_LAYERS</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#REQUEST">REQUEST</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#SERVICE">SERVICE</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#SRS">SRS</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#STYLES">STYLES</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#TRANSPARENT">TRANSPARENT</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#VERSION">VERSION</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#WIDTH">WIDTH</A>, <A HREF="../../../../com/bbn/openmap/image/WMTConstants.html#WMTVER">WMTVER</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.bbn.openmap.PropertyConsumer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.bbn.openmap.<A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#EditorProperty">EditorProperty</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#initPropertiesProperty">initPropertiesProperty</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#LabelEditorProperty">LabelEditorProperty</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#ScopedEditorProperty">ScopedEditorProperty</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#MapRequestHandler(java.util.Properties)">MapRequestHandler</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#MapRequestHandler(java.lang.String, java.util.Properties)">MapRequestHandler</A></B>(java.lang.String&nbsp;prefix,
                  java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#convertRequestToProps(java.lang.String)">convertRequestToProps</A></B>(java.lang.String&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#getAllLayerNames()">getAllLayerNames</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all the layer identifiers that can be used in a request,
 for the current configuration of the MapRequestHandler.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#getDefaultLayers()">getDefaultLayers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#getDefaultProjection()">getDefaultProjection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the Projection being used for parameters in case some parameters are
 missing from request strings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#getFormatterContentType(com.bbn.openmap.image.ImageFormatter)">getFormatterContentType</A></B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given an ImageFormatter, get the HttpConnection content type that matches
 it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#getPropertyInfo(java.util.Properties)">getPropertyInfo</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part of the PropertyConsumer interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#getUseVisibility()">getUseVisibility</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handleCapabilitiesRequest(java.util.Properties, java.io.OutputStream)">handleCapabilitiesRequest</A></B>(java.util.Properties&nbsp;requestProperties,
                          java.io.OutputStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a capabilities request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handleMapRequest(java.util.Properties)">handleMapRequest</A></B>(java.util.Properties&nbsp;requestProperties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a map request, and create and image for it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handleMapRequest(java.util.Properties, java.io.OutputStream)">handleMapRequest</A></B>(java.util.Properties&nbsp;requestProperties,
                 java.io.OutputStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a Map Request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handlePanRequest(java.util.Properties, java.io.OutputStream)">handlePanRequest</A></B>(java.util.Properties&nbsp;requestProperties,
                 java.io.OutputStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a Pan Request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handleRecenterRequest(java.util.Properties, java.io.OutputStream)">handleRecenterRequest</A></B>(java.util.Properties&nbsp;requestProperties,
                      java.io.OutputStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a Recenter Request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handleRequest(java.lang.String)">handleRequest</A></B>(java.lang.String&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a general request, parse it and handle it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#handleRequest(java.lang.String, java.io.OutputStream)">handleRequest</A></B>(java.lang.String&nbsp;request,
              java.io.OutputStream&nbsp;out)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a general request, parse it and handle it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#initProjection(java.util.Properties)">initProjection</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set up the default projection, which parts are used if any parts of a
 projection are missing on an image request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#loadProjections(java.util.Properties)">loadProjections</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method called from initProjection to initialize the ProjectionFactory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#setDefaultLayers(java.lang.String)">setDefaultLayers</A></B>(java.lang.String&nbsp;dLayers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the default layers that will be used for requests that don't specify
 layers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#setDefaultProjection(com.bbn.openmap.proj.Projection)">setDefaultProjection</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the default projection to grab parameters from in case some
 projection terms are missing from the request string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#setProperties(java.lang.String, java.util.Properties)">setProperties</A></B>(java.lang.String&nbsp;prefix,
              java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the layers and image type in the properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html#setUseVisibility(boolean)">setUseVisibility</A></B>(boolean&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set whether the layer visibility is used in order to determine default
 layers for the image.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.bbn.openmap.image.ImageServer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.bbn.openmap.image.<A HREF="../../../../com/bbn/openmap/image/ImageServer.html" title="class in com.bbn.openmap.image">ImageServer</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#calculateVisibleLayerMask()">calculateVisibleLayerMask</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createGraphics(com.bbn.openmap.image.ImageFormatter, int, int)">createGraphics</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection)">createImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int)">createImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, int)">createImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, int, java.awt.Paint)">createImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, java.util.List)">createImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, java.util.List, java.awt.Paint)">createImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImageFile(java.lang.String, java.util.Properties, com.bbn.openmap.proj.Projection, java.lang.String)">createImageFile</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getBackground()">getBackground</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getBackground(java.util.Properties, java.lang.String)">getBackground</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getDoAntiAliasing()">getDoAntiAliasing</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormattedImage(com.bbn.openmap.image.ImageFormatter, int, int)">getFormattedImage</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormatter()">getFormatter</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormatters()">getFormatters</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormatters(java.util.Properties)">getFormatters</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getLayers()">getLayers</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getLayers(java.util.Properties)">getLayers</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getLayers(java.util.Properties, java.util.Hashtable)">getLayers</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getMaskedLayers(int)">getMaskedLayers</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getProperties(java.util.Properties)">getProperties</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getPropertyPrefix()">getPropertyPrefix</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#main(java.lang.String[])">main</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setBackground(java.awt.Paint)">setBackground</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setDoAntiAliasing(boolean)">setDoAntiAliasing</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setFormatter(com.bbn.openmap.image.ImageFormatter)">setFormatter</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setFormatter(java.lang.String)">setFormatter</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setFormatters(java.util.Hashtable, java.lang.String)">setFormatters</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setLayers(com.bbn.openmap.Layer[])">setLayers</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.util.Properties)">setProperties</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.lang.String, java.util.Properties, java.util.Hashtable)">setProperties</A>, <A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setPropertyPrefix(java.lang.String)">setPropertyPrefix</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="valueSeparator"><!-- --></A><H3>
valueSeparator</H3>
<PRE>
public static final java.lang.String <B>valueSeparator</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.MapRequestHandler.valueSeparator">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="hexSeparator"><!-- --></A><H3>
hexSeparator</H3>
<PRE>
public static final java.lang.String <B>hexSeparator</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.MapRequestHandler.hexSeparator">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="defaultLayersProperty"><!-- --></A><H3>
defaultLayersProperty</H3>
<PRE>
public static final java.lang.String <B>defaultLayersProperty</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.MapRequestHandler.defaultLayersProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DefaultLayersProperty"><!-- --></A><H3>
DefaultLayersProperty</H3>
<PRE>
public static final java.lang.String <B>DefaultLayersProperty</B></PRE>
<DL>
<DD>The real new property for doing this. The old property,
 defaultLayersProperty set to openmap.startUpLayers, will work if this is
 not set. At some point, we should all start using this one, it's just
 right. (defaultLayers)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.MapRequestHandler.DefaultLayersProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="UseVisibilityProperty"><!-- --></A><H3>
UseVisibilityProperty</H3>
<PRE>
public static final java.lang.String <B>UseVisibilityProperty</B></PRE>
<DL>
<DD>The property for using visibility of the layers to mark the default
 layers. The order that they are used depends on how they are specified in
 the layers property.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.MapRequestHandler.UseVisibilityProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="defaultLayers"><!-- --></A><H3>
defaultLayers</H3>
<PRE>
protected java.lang.String <B>defaultLayers</B></PRE>
<DL>
<DD>Comma-separated list of layer scoping prefixes that specify what layers,
 and their order, should be used for default images where layers are not
 specified in the request.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="defaultProjection"><!-- --></A><H3>
defaultProjection</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A> <B>defaultProjection</B></PRE>
<DL>
<DD>The default projection that provides projection parameters that are
 missing from the request.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="useVisibility"><!-- --></A><H3>
useVisibility</H3>
<PRE>
protected boolean <B>useVisibility</B></PRE>
<DL>
<DD>The layers' visibility will be set to true at initialization if this
 property is set, and the layers' visibility will determine if a layer
 will be part of the image. If you set this flag, then you have to set the
 layers' visibility yourself. This property takes precedence over the
 default layers property if both are defined.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MapRequestHandler(java.util.Properties)"><!-- --></A><H3>
MapRequestHandler</H3>
<PRE>
public <B>MapRequestHandler</B>(java.util.Properties&nbsp;props)
                  throws java.io.IOException</PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>
<HR>

<A NAME="MapRequestHandler(java.lang.String, java.util.Properties)"><!-- --></A><H3>
MapRequestHandler</H3>
<PRE>
public <B>MapRequestHandler</B>(java.lang.String&nbsp;prefix,
                         java.util.Properties&nbsp;props)
                  throws java.io.IOException</PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setProperties(java.lang.String, java.util.Properties)"><!-- --></A><H3>
setProperties</H3>
<PRE>
public void <B>setProperties</B>(java.lang.String&nbsp;prefix,
                          java.util.Properties&nbsp;props)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.lang.String, java.util.Properties)">ImageServer</A></CODE></B></DD>
<DD>Set the layers and image type in the properties. The properties might
 have a prefix in the file.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#setProperties(java.lang.String, java.util.Properties)">setProperties</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.lang.String, java.util.Properties)">setProperties</A></CODE> in class <CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html" title="class in com.bbn.openmap.image">ImageServer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - a String used by the PropertyConsumer to prepend
        to each property value it wants to look up -
        setList.getProperty(prefix.propertyKey). If the prefix
        had already been set, then the prefix passed in should
        replace that previous value.<DD><CODE>props</CODE> - a Properties object that the PropertyConsumer
        can use to retrieve expected properties it can use for
        configuration.</DL>
</DD>
</DL>
<HR>

<A NAME="getPropertyInfo(java.util.Properties)"><!-- --></A><H3>
getPropertyInfo</H3>
<PRE>
public java.util.Properties <B>getPropertyInfo</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getPropertyInfo(java.util.Properties)">ImageServer</A></CODE></B></DD>
<DD>Part of the PropertyConsumer interface.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#getPropertyInfo(java.util.Properties)">getPropertyInfo</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getPropertyInfo(java.util.Properties)">getPropertyInfo</A></CODE> in class <CODE><A HREF="../../../../com/bbn/openmap/image/ImageServer.html" title="class in com.bbn.openmap.image">ImageServer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - a Properties object to load the PropertyConsumer
        properties into. If getList equals null, then a new
        Properties object should be created.
<DT><B>Returns:</B><DD>Properties object containing PropertyConsumer property
         values. If getList was not null, this should equal
         getList. Otherwise, it should be the Properties object
         created by the PropertyConsumer.</DL>
</DD>
</DL>
<HR>

<A NAME="setUseVisibility(boolean)"><!-- --></A><H3>
setUseVisibility</H3>
<PRE>
public void <B>setUseVisibility</B>(boolean&nbsp;value)</PRE>
<DL>
<DD>Set whether the layer visibility is used in order to determine default
 layers for the image.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUseVisibility()"><!-- --></A><H3>
getUseVisibility</H3>
<PRE>
public boolean <B>getUseVisibility</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initProjection(java.util.Properties)"><!-- --></A><H3>
initProjection</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A> <B>initProjection</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Set up the default projection, which parts are used if any parts of a
 projection are missing on an image request.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - the properties to look for openmap projection parameters.
<DT><B>Returns:</B><DD>a projection created from the properties. A mercator projection
         is created if no properties pertaining to a projection are found.</DL>
</DD>
</DL>
<HR>

<A NAME="loadProjections(java.util.Properties)"><!-- --></A><H3>
loadProjections</H3>
<PRE>
protected void <B>loadProjections</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Method called from initProjection to initialize the ProjectionFactory. By
 default, the standard OpenMap projections are loaded into the
 ProjectionFactory. If you want those projections replaced or add more
 projections to the default set, override this method and do what you
 need. *
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - Properties that can be used to figure out what to do. This
        implementation of the method doesn't use the Properties.</DL>
</DD>
</DL>
<HR>

<A NAME="setDefaultProjection(com.bbn.openmap.proj.Projection)"><!-- --></A><H3>
setDefaultProjection</H3>
<PRE>
public void <B>setDefaultProjection</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj)</PRE>
<DL>
<DD>Set the default projection to grab parameters from in case some
 projection terms are missing from the request string.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultProjection()"><!-- --></A><H3>
getDefaultProjection</H3>
<PRE>
public <A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A> <B>getDefaultProjection</B>()</PRE>
<DL>
<DD>Get the Projection being used for parameters in case some parameters are
 missing from request strings.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDefaultLayers(java.lang.String)"><!-- --></A><H3>
setDefaultLayers</H3>
<PRE>
public void <B>setDefaultLayers</B>(java.lang.String&nbsp;dLayers)</PRE>
<DL>
<DD>Set the default layers that will be used for requests that don't specify
 layers. The String should be a comma separated list of prefix scoping
 strings for the layer (layer.getPropertyPrefix()).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultLayers()"><!-- --></A><H3>
getDefaultLayers</H3>
<PRE>
public java.lang.String <B>getDefaultLayers</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAllLayerNames()"><!-- --></A><H3>
getAllLayerNames</H3>
<PRE>
public java.lang.String <B>getAllLayerNames</B>()</PRE>
<DL>
<DD>Get a list of all the layer identifiers that can be used in a request,
 for the current configuration of the MapRequestHandler.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="convertRequestToProps(java.lang.String)"><!-- --></A><H3>
convertRequestToProps</H3>
<PRE>
protected java.util.Properties <B>convertRequestToProps</B>(java.lang.String&nbsp;request)
                                              throws <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleRequest(java.lang.String)"><!-- --></A><H3>
handleRequest</H3>
<PRE>
public byte[] <B>handleRequest</B>(java.lang.String&nbsp;request)
                     throws java.io.IOException,
                            <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Given a general request, parse it and handle it. This is the method that
 servlets should call. Currently only handles image requests.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - the request string of key value pairs.
<DT><B>Returns:</B><DD>a byte[] for the image.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleRequest(java.lang.String, java.io.OutputStream)"><!-- --></A><H3>
handleRequest</H3>
<PRE>
public void <B>handleRequest</B>(java.lang.String&nbsp;request,
                          java.io.OutputStream&nbsp;out)
                   throws java.io.IOException,
                          <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Given a general request, parse it and handle it. Appends a content type
 to the output stream which may mess things up for servlets asking for
 images.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - the request string of key value pairs.<DD><CODE>out</CODE> - OutputStream to reply on.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleMapRequest(java.util.Properties)"><!-- --></A><H3>
handleMapRequest</H3>
<PRE>
public byte[] <B>handleMapRequest</B>(java.util.Properties&nbsp;requestProperties)
                        throws java.io.IOException,
                               <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Handle a map request, and create and image for it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requestProperties</CODE> - the request in properties format.
<DT><B>Returns:</B><DD>byte[] of formatted image.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleMapRequest(java.util.Properties, java.io.OutputStream)"><!-- --></A><H3>
handleMapRequest</H3>
<PRE>
public void <B>handleMapRequest</B>(java.util.Properties&nbsp;requestProperties,
                             java.io.OutputStream&nbsp;out)
                      throws java.io.IOException,
                             <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Handle a Map Request. Appends a content type to the output stream which
 may mess things up for servlets.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handlePanRequest(java.util.Properties, java.io.OutputStream)"><!-- --></A><H3>
handlePanRequest</H3>
<PRE>
public void <B>handlePanRequest</B>(java.util.Properties&nbsp;requestProperties,
                             java.io.OutputStream&nbsp;out)
                      throws java.io.IOException,
                             <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Handle a Pan Request.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleRecenterRequest(java.util.Properties, java.io.OutputStream)"><!-- --></A><H3>
handleRecenterRequest</H3>
<PRE>
public void <B>handleRecenterRequest</B>(java.util.Properties&nbsp;requestProperties,
                                  java.io.OutputStream&nbsp;out)
                           throws java.io.IOException,
                                  <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Handle a Recenter Request. Appends a content type to the output stream
 which may mess things up for servlets.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getFormatterContentType(com.bbn.openmap.image.ImageFormatter)"><!-- --></A><H3>
getFormatterContentType</H3>
<PRE>
public java.lang.String <B>getFormatterContentType</B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter)</PRE>
<DL>
<DD>Given an ImageFormatter, get the HttpConnection content type that matches
 it.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="handleCapabilitiesRequest(java.util.Properties, java.io.OutputStream)"><!-- --></A><H3>
handleCapabilitiesRequest</H3>
<PRE>
public void <B>handleCapabilitiesRequest</B>(java.util.Properties&nbsp;requestProperties,
                                      java.io.OutputStream&nbsp;out)
                               throws java.io.IOException,
                                      <A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></PRE>
<DL>
<DD>Handle a capabilities request.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE><A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image">MapRequestFormatException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MapRequestHandler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/bbn/openmap/image/MapRequestFormatException.html" title="class in com.bbn.openmap.image"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/bbn/openmap/image/PNG32ImageFormatter.html" title="class in com.bbn.openmap.image"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/bbn/openmap/image/MapRequestHandler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MapRequestHandler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright (C) BBNT Solutions LLC; See http://openmap.bbn.com/ for details
</BODY>
</HTML>
