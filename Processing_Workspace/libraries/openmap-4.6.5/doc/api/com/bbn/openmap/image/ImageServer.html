<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_16) on Wed Mar 04 22:10:27 EST 2009 -->
<TITLE>
ImageServer (OpenMap API)
</TITLE>

<META NAME="keywords" CONTENT="com.bbn.openmap.image.ImageServer class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ImageServer (OpenMap API)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ImageServer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageScaler.html" title="class in com.bbn.openmap.image"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html" title="interface in com.bbn.openmap.image"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/bbn/openmap/image/ImageServer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ImageServer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.bbn.openmap.image</FONT>
<BR>
Class ImageServer</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.bbn.openmap.image.ImageServer</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/bbn/openmap/image/MapRequestHandler.html" title="class in com.bbn.openmap.image">MapRequestHandler</A>, <A HREF="../../../../com/bbn/openmap/image/wms/WmsRequestHandler.html" title="class in com.bbn.openmap.image.wms">WmsRequestHandler</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ImageServer</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></DL>
</PRE>

<P>
The image server is the class you want to deal with when creating images from
 the ImageGenerator. It takes a properties file and sets up the image
 generator based on those properties. It also has this queuing thing going so
 that requests can stack up while the image generator is working on requests,
 and it will notify the requestor when the image is ready.
 <P>
 
 The ImageServer generally has the layers on the map predefined at
 construction, although you can change the layers that it has. When setting
 the layer array, do not use the same layer in two different slots of the
 array - it may not give you the expected map, and may mess around with the
 timing issues that the ImageGenerator takes care of. If you want to reorder
 the layers, do so before adding your request to the ImageServer.
 Additionally, each request has the option of not using certain layers in the
 ImageServer layer array, by turning off the appropriate bits in the layer
 mask. Understand that the image for a request will be created based on the
 layer array contents and the request layer mask at the time the request
 processing is started, not when it is submitted.
 <P>
 Right now, the ImageServer is single threaded - processing requests one after
 another. The request setup was written to support multi-threaded processing,
 though, where each image could be generated in it's own thread. That code is
 not written - maybe someday.
 <P>
 <code><pre>
                 
                  
                   
                    # If the ImageServer is created and given a prefix (in this example,
                    # 'imageServer') the properties file should contain the properties:
                    imageServer.layers=&lt;layer1 layer2 ...&gt;
                    layer1.className=&lt;classname&gt;
                    layer1.prettyName=&lt;pretty name of layer&gt;
                    # Add other attributes as required by layer1...
                    layer2.className=&lt;classname&gt;
                    layer2.prettyName=&lt;pretty name of layer&gt;
                    # Add other attributes as required by layer2...
                    # First formatter listed is default.
                    imageServer.formatters=&lt;formatter1 formatter2 ...&gt;
                    formatter1.class=&lt;classname of formatter 1&gt;
                    # Add other formatter1 properties
                    formatter2.class=&lt;classname of formatter 2&gt;
                    
                   
                  
 </pre></code>
 <P>
 NOTE: If you simply hand the ImageServer a standard openmap.properties file,
 it works with the addition of the first two attributes except WITHOUT the
 'imageServer.' prefix.
 
 New for 4.5: If the layers property is not defined, then the openmap.layers
 property is used to define which layers are available for the ImageServer.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#AntiAliasingProperty">AntiAliasingProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property to turn on anti-aliasing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.awt.Paint</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#background">background</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Paint object used for map backgrounds.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#BackgroundProperty">BackgroundProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property to set the background color.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#doAntiAliasing">doAntiAliasing</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag to do graphics and text anti-aliasing on the map image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#formatter">formatter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Image formatter for the output image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Hashtable</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#imageFormatters">imageFormatters</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hashtable of ImageFormatters available to be used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageFormattersProperty">ImageFormattersProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property for the image formatter list of available formats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServerLayersProperty">ImageServerLayersProperty</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property for space separated layers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#layers">layers</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The array of layers on the map.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#OpenMapPrefix">OpenMapPrefix</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OpenMap prefix</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#propertiesPrefix">propertiesPrefix</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A place to hold on to a property prefix in case one is used.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.bbn.openmap.PropertyConsumer"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.bbn.openmap.<A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#EditorProperty">EditorProperty</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#initPropertiesProperty">initPropertiesProperty</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#LabelEditorProperty">LabelEditorProperty</A>, <A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#ScopedEditorProperty">ScopedEditorProperty</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServer()">ImageServer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Empty constructor that expects to be configured later.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServer(com.bbn.openmap.Layer[], com.bbn.openmap.image.ImageFormatter)">ImageServer</A></B>(<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]&nbsp;layers,
            <A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an ImageServer from an array of Layers and an ImageFormatter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServer(java.util.Properties)">ImageServer</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To create the image server, you hand it a set of properties that let it
 create an array of layers, and also to set the properties for those
 layers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServer(java.lang.String, java.util.Properties)">ImageServer</A></B>(java.lang.String&nbsp;prefix,
            java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Same as the other constructor, except that the properties can have a
 prefix in front of them.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#ImageServer(java.lang.String, java.util.Properties, java.util.Hashtable)">ImageServer</A></B>(java.lang.String&nbsp;prefix,
            java.util.Properties&nbsp;props,
            java.util.Hashtable&nbsp;instantiatedLayers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an ImageServer that should be configured with a Properties file.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#calculateVisibleLayerMask()">calculateVisibleLayerMask</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns a integer representing a mask created from the
 visibility settings of the layers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.awt.Graphics</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createGraphics(com.bbn.openmap.image.ImageFormatter, int, int)">createGraphics</A></B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter,
               int&nbsp;width,
               int&nbsp;height)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a java.awt.Graphics to use for an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection)">createImage</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the ProjectionPainter interface of the layers to create an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int)">createImage</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
            int&nbsp;scaledWidth,
            int&nbsp;scaledHeight)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the ProjectionPainter interface of the layers to create an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, int)">createImage</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
            int&nbsp;scaledWidth,
            int&nbsp;scaledHeight,
            int&nbsp;includedLayerMask)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the ProjectionPainter interface of the layers to create an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, int, java.awt.Paint)">createImage</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
            int&nbsp;scaledWidth,
            int&nbsp;scaledHeight,
            int&nbsp;includedLayerMask,
            java.awt.Paint&nbsp;background)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the ProjectionPainter interface of the layers to create an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, java.util.List)">createImage</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
            int&nbsp;scaledWidth,
            int&nbsp;scaledHeight,
            java.util.List&nbsp;showLayers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the ProjectionPainter interface of the layers to create an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImage(com.bbn.openmap.proj.Projection, int, int, java.util.List, java.awt.Paint)">createImage</A></B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
            int&nbsp;scaledWidth,
            int&nbsp;scaledHeight,
            java.util.List&nbsp;showLayers,
            java.awt.Paint&nbsp;background)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the ProjectionPainter interface of the layers to create an image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#createImageFile(java.lang.String, java.util.Properties, com.bbn.openmap.proj.Projection, java.lang.String)">createImageFile</A></B>(java.lang.String&nbsp;prefix,
                java.util.Properties&nbsp;props,
                <A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                java.lang.String&nbsp;outputPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For convenience, to create an image file based on the contents of a
 properties file (like an openmap.properties file).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.awt.Paint</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getBackground()">getBackground</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the Paint to use for image backgrounds.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.awt.Paint</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getBackground(java.util.Properties, java.lang.String)">getBackground</A></B>(java.util.Properties&nbsp;props,
              java.lang.String&nbsp;propertyKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine the background color based on property settings.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getDoAntiAliasing()">getDoAntiAliasing</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find out whether anti-aliasing is used when creating the image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormattedImage(com.bbn.openmap.image.ImageFormatter, int, int)">getFormattedImage</A></B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter,
                  int&nbsp;scaledWidth,
                  int&nbsp;scaledHeight)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Format the image that is contained in the ImageFormatter, scaling to a
 particular size if the scaledWidth and scaledHeight are greater than 0.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormatter()">getFormatter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the ImageFormatter currently used for the image creation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Hashtable</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormatters()">getFormatters</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the Hashtable used to hold the ImageFormatters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getFormatters(java.util.Properties)">getFormatters</A></B>(java.util.Properties&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an ImageFormatter from the contents of a properties object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getLayers()">getLayers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve the current set of layers used for requests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getLayers(java.util.Properties)">getLayers</A></B>(java.util.Properties&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an array of Layers from a properties object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getLayers(java.util.Properties, java.util.Hashtable)">getLayers</A></B>(java.util.Properties&nbsp;p,
          java.util.Hashtable&nbsp;instantiatedLayers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create an array of Layers from a properties object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getMaskedLayers(int)">getMaskedLayers</A></B>(int&nbsp;layerMask)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a integer that represents, bitwise, the layers that you want out of
 the current list held by the ImageServer layer array, return an array of
 those layers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getProperties(java.util.Properties)">getProperties</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part of the PropertyConsumer interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getPropertyInfo(java.util.Properties)">getPropertyInfo</A></B>(java.util.Properties&nbsp;list)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part of the PropertyConsumer interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#getPropertyPrefix()">getPropertyPrefix</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part of the PropertyConsumer interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#main(java.lang.String[])">main</A></B>(java.lang.String[]&nbsp;argv)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The ImageServer class main function will create a map image from a
 modified openmap.properties file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setBackground(java.awt.Paint)">setBackground</A></B>(java.awt.Paint&nbsp;bg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the Paint to use for image backgrounds.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setDoAntiAliasing(boolean)">setDoAntiAliasing</A></B>(boolean&nbsp;set)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set whether anti-aliasing is used when creating the image.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setFormatter(com.bbn.openmap.image.ImageFormatter)">setFormatter</A></B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;f)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the ImageFormatter to be used for ImageCreation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setFormatter(java.lang.String)">setFormatter</A></B>(java.lang.String&nbsp;formatterLabel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the default formatter to the one with the given label.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setFormatters(java.util.Hashtable, java.lang.String)">setFormatters</A></B>(java.util.Hashtable&nbsp;iFormatters,
              java.lang.String&nbsp;defaultFormatterKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the ImageFormatter Hashtable to set up the possible choices for image
 formats.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setLayers(com.bbn.openmap.Layer[])">setLayers</A></B>(<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]&nbsp;newLayers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the layers used on the NEXT request that is processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.util.Properties)">setProperties</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the layers and image type in the properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.lang.String, java.util.Properties)">setProperties</A></B>(java.lang.String&nbsp;prefix,
              java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the layers and image type in the properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setProperties(java.lang.String, java.util.Properties, java.util.Hashtable)">setProperties</A></B>(java.lang.String&nbsp;prefix,
              java.util.Properties&nbsp;props,
              java.util.Hashtable&nbsp;instantiatedLayers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the layers and image type in the properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/bbn/openmap/image/ImageServer.html#setPropertyPrefix(java.lang.String)">setPropertyPrefix</A></B>(java.lang.String&nbsp;prefix)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part of the PropertyConsumer interface.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="formatter"><!-- --></A><H3>
formatter</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A> <B>formatter</B></PRE>
<DL>
<DD>The Image formatter for the output image.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="imageFormatters"><!-- --></A><H3>
imageFormatters</H3>
<PRE>
protected java.util.Hashtable <B>imageFormatters</B></PRE>
<DL>
<DD>Hashtable of ImageFormatters available to be used.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="layers"><!-- --></A><H3>
layers</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[] <B>layers</B></PRE>
<DL>
<DD>The array of layers on the map. First is on top.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ImageServerLayersProperty"><!-- --></A><H3>
ImageServerLayersProperty</H3>
<PRE>
public static final java.lang.String <B>ImageServerLayersProperty</B></PRE>
<DL>
<DD>Property for space separated layers.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.ImageServer.ImageServerLayersProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="OpenMapPrefix"><!-- --></A><H3>
OpenMapPrefix</H3>
<PRE>
public static final java.lang.String <B>OpenMapPrefix</B></PRE>
<DL>
<DD>OpenMap prefix
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.ImageServer.OpenMapPrefix">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ImageFormattersProperty"><!-- --></A><H3>
ImageFormattersProperty</H3>
<PRE>
public static final java.lang.String <B>ImageFormattersProperty</B></PRE>
<DL>
<DD>Property for the image formatter list of available formats. This propery
 should contain a space separated list of marker names.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.ImageServer.ImageFormattersProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="AntiAliasingProperty"><!-- --></A><H3>
AntiAliasingProperty</H3>
<PRE>
public static final java.lang.String <B>AntiAliasingProperty</B></PRE>
<DL>
<DD>Property to turn on anti-aliasing.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.ImageServer.AntiAliasingProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="BackgroundProperty"><!-- --></A><H3>
BackgroundProperty</H3>
<PRE>
public static final java.lang.String <B>BackgroundProperty</B></PRE>
<DL>
<DD>Property to set the background color.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.bbn.openmap.image.ImageServer.BackgroundProperty">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="doAntiAliasing"><!-- --></A><H3>
doAntiAliasing</H3>
<PRE>
protected boolean <B>doAntiAliasing</B></PRE>
<DL>
<DD>Flag to do graphics and text anti-aliasing on the map image.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="propertiesPrefix"><!-- --></A><H3>
propertiesPrefix</H3>
<PRE>
protected java.lang.String <B>propertiesPrefix</B></PRE>
<DL>
<DD>A place to hold on to a property prefix in case one is used. Useful for
 ImageServer properties files where more than one image server is defined.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="background"><!-- --></A><H3>
background</H3>
<PRE>
protected java.awt.Paint <B>background</B></PRE>
<DL>
<DD>Paint object used for map backgrounds.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ImageServer()"><!-- --></A><H3>
ImageServer</H3>
<PRE>
protected <B>ImageServer</B>()</PRE>
<DL>
<DD>Empty constructor that expects to be configured later.
<P>
</DL>
<HR>

<A NAME="ImageServer(java.util.Properties)"><!-- --></A><H3>
ImageServer</H3>
<PRE>
public <B>ImageServer</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>To create the image server, you hand it a set of properties that let it
 create an array of layers, and also to set the properties for those
 layers. The properties file for the ImageServer looks strikingly similar
 to the openmap.properties file. So, all the layers get set up here...
<P>
</DL>
<HR>

<A NAME="ImageServer(java.lang.String, java.util.Properties)"><!-- --></A><H3>
ImageServer</H3>
<PRE>
public <B>ImageServer</B>(java.lang.String&nbsp;prefix,
                   java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Same as the other constructor, except that the properties can have a
 prefix in front of them. The format of the prefix has to match how the
 property is specified the the properties file, which may include the
 period - i.e server1.imageServer.layers, the server1. is the prefix that
 should get passed in. The ImageMaster does this.
<P>
</DL>
<HR>

<A NAME="ImageServer(java.lang.String, java.util.Properties, java.util.Hashtable)"><!-- --></A><H3>
ImageServer</H3>
<PRE>
public <B>ImageServer</B>(java.lang.String&nbsp;prefix,
                   java.util.Properties&nbsp;props,
                   java.util.Hashtable&nbsp;instantiatedLayers)</PRE>
<DL>
<DD>Create an ImageServer that should be configured with a Properties file.
 The prefix given is to scope the ImageServer properties to this instance.
 The Hashtable is for reusing any layers that may already be instantiated.
<P>
</DL>
<HR>

<A NAME="ImageServer(com.bbn.openmap.Layer[], com.bbn.openmap.image.ImageFormatter)"><!-- --></A><H3>
ImageServer</H3>
<PRE>
public <B>ImageServer</B>(<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]&nbsp;layers,
                   <A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter)</PRE>
<DL>
<DD>Create an ImageServer from an array of Layers and an ImageFormatter. It's
 assumed that the layers are already configured.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>layers</CODE> - the array of layers.<DD><CODE>formatter</CODE> - the ImageFormatter to use for the output image format.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setDoAntiAliasing(boolean)"><!-- --></A><H3>
setDoAntiAliasing</H3>
<PRE>
public void <B>setDoAntiAliasing</B>(boolean&nbsp;set)</PRE>
<DL>
<DD>Set whether anti-aliasing is used when creating the image.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDoAntiAliasing()"><!-- --></A><H3>
getDoAntiAliasing</H3>
<PRE>
public boolean <B>getDoAntiAliasing</B>()</PRE>
<DL>
<DD>Find out whether anti-aliasing is used when creating the image.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setLayers(com.bbn.openmap.Layer[])"><!-- --></A><H3>
setLayers</H3>
<PRE>
public void <B>setLayers</B>(<A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[]&nbsp;newLayers)</PRE>
<DL>
<DD>Set the layers used on the NEXT request that is processed. Will not
 affect any image currently being created.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newLayers</CODE> - an array of com.bbn.openmap.Layer objects, already
        configured and ready to respond to a projectionChanged method
        call.</DL>
</DD>
</DL>
<HR>

<A NAME="getLayers()"><!-- --></A><H3>
getLayers</H3>
<PRE>
public <A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[] <B>getLayers</B>()</PRE>
<DL>
<DD>Retrieve the current set of layers used for requests.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Layer[]</DL>
</DD>
</DL>
<HR>

<A NAME="createImage(com.bbn.openmap.proj.Projection)"><!-- --></A><H3>
createImage</H3>
<PRE>
public byte[] <B>createImage</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj)</PRE>
<DL>
<DD>Use the ProjectionPainter interface of the layers to create an image.
 This approach avoids some of the timing issues that the thread model of
 the MapBean and Layers that seem to pop up from time to time. They are
 Swing components, you know. They were designed to be part of a GUI. So,
 this is a serialized, safe way to do things.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>proj</CODE> - projection of map.
<DT><B>Returns:</B><DD>a byte[] representing the formatted image.</DL>
</DD>
</DL>
<HR>

<A NAME="createImage(com.bbn.openmap.proj.Projection, int, int)"><!-- --></A><H3>
createImage</H3>
<PRE>
public byte[] <B>createImage</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                          int&nbsp;scaledWidth,
                          int&nbsp;scaledHeight)</PRE>
<DL>
<DD>Use the ProjectionPainter interface of the layers to create an image.
 This approach avoids some of the timing issues that the thread model of
 the MapBean and Layers that seem to pop up from time to time. They are
 Swing components, you know. They were designed to be part of a GUI. So,
 this is a serialized, safe way to do things.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>proj</CODE> - projection of map.<DD><CODE>scaledWidth</CODE> - scaled pixel width of final image. If you don't want
        it scaled, use -1.<DD><CODE>scaledHeight</CODE> - scaled pixel height of final image. If you don't want
        it scaled, use -1.
<DT><B>Returns:</B><DD>a byte[] representing the formatted image.</DL>
</DD>
</DL>
<HR>

<A NAME="createImage(com.bbn.openmap.proj.Projection, int, int, java.util.List)"><!-- --></A><H3>
createImage</H3>
<PRE>
public byte[] <B>createImage</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                          int&nbsp;scaledWidth,
                          int&nbsp;scaledHeight,
                          java.util.List&nbsp;showLayers)</PRE>
<DL>
<DD>Use the ProjectionPainter interface of the layers to create an image.
 This approach avoids some of the timing issues that the thread model of
 the MapBean and Layers that seem to pop up from time to time. They are
 Swing components, you know. They were designed to be part of a GUI. So,
 this is a serialized, safe way to do things. The background used for the
 image is the one set in this ImageServer object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>proj</CODE> - projection of map.<DD><CODE>scaledWidth</CODE> - scaled pixel width of final image. If you don't want
        it scaled, use -1.<DD><CODE>scaledHeight</CODE> - scaled pixel height of final image. If you don't want
        it scaled, use -1.<DD><CODE>showLayers</CODE> - Layer marker names reflecting the layers that should be
        part of this image.
<DT><B>Returns:</B><DD>a byte[] representing the formatted image.</DL>
</DD>
</DL>
<HR>

<A NAME="createImage(com.bbn.openmap.proj.Projection, int, int, java.util.List, java.awt.Paint)"><!-- --></A><H3>
createImage</H3>
<PRE>
public byte[] <B>createImage</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                          int&nbsp;scaledWidth,
                          int&nbsp;scaledHeight,
                          java.util.List&nbsp;showLayers,
                          java.awt.Paint&nbsp;background)</PRE>
<DL>
<DD>Use the ProjectionPainter interface of the layers to create an image.
 This approach avoids some of the timing issues that the thread model of
 the MapBean and Layers that seem to pop up from time to time. They are
 Swing components, you know. They were designed to be part of a GUI. So,
 this is a serialized, safe way to do things. The background used for the
 image is the one set in this ImageServer object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>proj</CODE> - projection of map.<DD><CODE>scaledWidth</CODE> - scaled pixel width of final image. If you don't want
        it scaled, use -1.<DD><CODE>scaledHeight</CODE> - scaled pixel height of final image. If you don't want
        it scaled, use -1.<DD><CODE>showLayers</CODE> - Layer marker names reflecting the layers that should be
        part of this image.<DD><CODE>background</CODE> - the Paint to be used for the background of this image.
<DT><B>Returns:</B><DD>a byte[] representing the formatted image.</DL>
</DD>
</DL>
<HR>

<A NAME="calculateVisibleLayerMask()"><!-- --></A><H3>
calculateVisibleLayerMask</H3>
<PRE>
public int <B>calculateVisibleLayerMask</B>()</PRE>
<DL>
<DD>This method returns a integer representing a mask created from the
 visibility settings of the layers.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createImage(com.bbn.openmap.proj.Projection, int, int, int)"><!-- --></A><H3>
createImage</H3>
<PRE>
public byte[] <B>createImage</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                          int&nbsp;scaledWidth,
                          int&nbsp;scaledHeight,
                          int&nbsp;includedLayerMask)</PRE>
<DL>
<DD>Use the ProjectionPainter interface of the layers to create an image.
 This approach avoids some of the timing issues that the thread model of
 the MapBean and Layers that seem to pop up from time to time. They are
 Swing components, you know. They were designed to be part of a GUI. So,
 this is a serialized, safe way to do things. Uses the default background
 set in the ImageServer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>proj</CODE> - projection of map.<DD><CODE>scaledWidth</CODE> - scaled pixel width of final image. If you don't want
        it scaled, use -1.<DD><CODE>scaledHeight</CODE> - scaled pixel height of final image. If you don't want
        it scaled, use -1.<DD><CODE>includedLayerMask</CODE> - a mask signifying which of the ImageServer
        layers to use in the image. It's assumed that the called knows
        which layers are desired. Bit 1 of the mask refers to layer[0],
        etc. A bit turned on means the layer will be included.
<DT><B>Returns:</B><DD>a byte[] representing the formatted image.</DL>
</DD>
</DL>
<HR>

<A NAME="createImage(com.bbn.openmap.proj.Projection, int, int, int, java.awt.Paint)"><!-- --></A><H3>
createImage</H3>
<PRE>
public byte[] <B>createImage</B>(<A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                          int&nbsp;scaledWidth,
                          int&nbsp;scaledHeight,
                          int&nbsp;includedLayerMask,
                          java.awt.Paint&nbsp;background)</PRE>
<DL>
<DD>Use the ProjectionPainter interface of the layers to create an image.
 This approach avoids some of the timing issues that the thread model of
 the MapBean and Layers that seem to pop up from time to time. They are
 Swing components, you know. They were designed to be part of a GUI. So,
 this is a serialized, safe way to do things.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>proj</CODE> - projection of map.<DD><CODE>scaledWidth</CODE> - scaled pixel width of final image. If you don't want
        it scaled, use -1.<DD><CODE>scaledHeight</CODE> - scaled pixel height of final image. If you don't want
        it scaled, use -1.<DD><CODE>includedLayerMask</CODE> - a mask signifying which of the ImageServer
        layers to use in the image. It's assumed that the called knows
        which layers are desired. Bit 1 of the mask refers to layer[0],
        etc. A bit turned on means the layer will be included.<DD><CODE>background</CODE> - the background Paint to use for the image, behind the
        layers.
<DT><B>Returns:</B><DD>a byte[] representing the formatted image.</DL>
</DD>
</DL>
<HR>

<A NAME="createGraphics(com.bbn.openmap.image.ImageFormatter, int, int)"><!-- --></A><H3>
createGraphics</H3>
<PRE>
protected java.awt.Graphics <B>createGraphics</B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter,
                                           int&nbsp;width,
                                           int&nbsp;height)</PRE>
<DL>
<DD>Create a java.awt.Graphics to use for an image. The Graphics will affect
 the image contained within the ImageFormatter.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>formatter</CODE> - the ImageFormatter containing the image.<DD><CODE>width</CODE> - the pixel width of the image.<DD><CODE>height</CODE> - the pixel height of the image.</DL>
</DD>
</DL>
<HR>

<A NAME="getFormattedImage(com.bbn.openmap.image.ImageFormatter, int, int)"><!-- --></A><H3>
getFormattedImage</H3>
<PRE>
protected byte[] <B>getFormattedImage</B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;formatter,
                                   int&nbsp;scaledWidth,
                                   int&nbsp;scaledHeight)</PRE>
<DL>
<DD>Format the image that is contained in the ImageFormatter, scaling to a
 particular size if the scaledWidth and scaledHeight are greater than 0.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setProperties(java.util.Properties)"><!-- --></A><H3>
setProperties</H3>
<PRE>
public void <B>setProperties</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Set the layers and image type in the properties.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#setProperties(java.util.Properties)">setProperties</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - a properties object that the PropertyConsumer
        can use to retrieve expected properties it can use for
        configuration.</DL>
</DD>
</DL>
<HR>

<A NAME="setProperties(java.lang.String, java.util.Properties)"><!-- --></A><H3>
setProperties</H3>
<PRE>
public void <B>setProperties</B>(java.lang.String&nbsp;prefix,
                          java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Set the layers and image type in the properties. The properties might
 have a prefix in the file.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#setProperties(java.lang.String, java.util.Properties)">setProperties</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - a String used by the PropertyConsumer to prepend
        to each property value it wants to look up -
        setList.getProperty(prefix.propertyKey). If the prefix
        had already been set, then the prefix passed in should
        replace that previous value.<DD><CODE>props</CODE> - a Properties object that the PropertyConsumer
        can use to retrieve expected properties it can use for
        configuration.</DL>
</DD>
</DL>
<HR>

<A NAME="setProperties(java.lang.String, java.util.Properties, java.util.Hashtable)"><!-- --></A><H3>
setProperties</H3>
<PRE>
public void <B>setProperties</B>(java.lang.String&nbsp;prefix,
                          java.util.Properties&nbsp;props,
                          java.util.Hashtable&nbsp;instantiatedLayers)</PRE>
<DL>
<DD>Set the layers and image type in the properties. The properties might
 have a prefix in the file.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getBackground(java.util.Properties, java.lang.String)"><!-- --></A><H3>
getBackground</H3>
<PRE>
public java.awt.Paint <B>getBackground</B>(java.util.Properties&nbsp;props,
                                    java.lang.String&nbsp;propertyKey)</PRE>
<DL>
<DD>Determine the background color based on property settings. If the
 property key isn't found, the openmap.BackgroundColor property will be
 used.  If that isn't found, then Color.white will be returned as default.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - properties to check<DD><CODE>propertyKey</CODE> - first key to check for.
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getProperties(java.util.Properties)"><!-- --></A><H3>
getProperties</H3>
<PRE>
public java.util.Properties <B>getProperties</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Part of the PropertyConsumer interface. Doesn't do anything yet.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#getProperties(java.util.Properties)">getProperties</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - a Properties object to load the PropertyConsumer
        properties into. If getList equals null, then a new
        Properties object should be created.
<DT><B>Returns:</B><DD>Properties object containing PropertyConsumer property
         values. If getList was not null, this should equal
         getList. Otherwise, it should be the Properties object
         created by the PropertyConsumer.</DL>
</DD>
</DL>
<HR>

<A NAME="getPropertyInfo(java.util.Properties)"><!-- --></A><H3>
getPropertyInfo</H3>
<PRE>
public java.util.Properties <B>getPropertyInfo</B>(java.util.Properties&nbsp;list)</PRE>
<DL>
<DD>Part of the PropertyConsumer interface.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#getPropertyInfo(java.util.Properties)">getPropertyInfo</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>list</CODE> - a Properties object to load the PropertyConsumer
        properties into. If getList equals null, then a new
        Properties object should be created.
<DT><B>Returns:</B><DD>Properties object containing PropertyConsumer property
         values. If getList was not null, this should equal
         getList. Otherwise, it should be the Properties object
         created by the PropertyConsumer.</DL>
</DD>
</DL>
<HR>

<A NAME="setPropertyPrefix(java.lang.String)"><!-- --></A><H3>
setPropertyPrefix</H3>
<PRE>
public void <B>setPropertyPrefix</B>(java.lang.String&nbsp;prefix)</PRE>
<DL>
<DD>Part of the PropertyConsumer interface. Set the Properties prefix to use
 to scope the relevant properties passed into the setProperties method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#setPropertyPrefix(java.lang.String)">setPropertyPrefix</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - the prefix String.</DL>
</DD>
</DL>
<HR>

<A NAME="getPropertyPrefix()"><!-- --></A><H3>
getPropertyPrefix</H3>
<PRE>
public java.lang.String <B>getPropertyPrefix</B>()</PRE>
<DL>
<DD>Part of the PropertyConsumer interface. Get the Properties prefix used to
 scope the relevant properties passed into the setProperties method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html#getPropertyPrefix()">getPropertyPrefix</A></CODE> in interface <CODE><A HREF="../../../../com/bbn/openmap/PropertyConsumer.html" title="interface in com.bbn.openmap">PropertyConsumer</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the prefix string</DL>
</DD>
</DL>
<HR>

<A NAME="getMaskedLayers(int)"><!-- --></A><H3>
getMaskedLayers</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[] <B>getMaskedLayers</B>(int&nbsp;layerMask)</PRE>
<DL>
<DD>Given a integer that represents, bitwise, the layers that you want out of
 the current list held by the ImageServer layer array, return an array of
 those layers.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>layerMask</CODE> - bit mask for desired layers, bit 0 is layer 0.
<DT><B>Returns:</B><DD>layer[]</DL>
</DD>
</DL>
<HR>

<A NAME="getFormatter()"><!-- --></A><H3>
getFormatter</H3>
<PRE>
public <A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A> <B>getFormatter</B>()</PRE>
<DL>
<DD>Get the ImageFormatter currently used for the image creation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>ImageFormatter.</DL>
</DD>
</DL>
<HR>

<A NAME="setFormatter(com.bbn.openmap.image.ImageFormatter)"><!-- --></A><H3>
setFormatter</H3>
<PRE>
public void <B>setFormatter</B>(<A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A>&nbsp;f)</PRE>
<DL>
<DD>Set the ImageFormatter to be used for ImageCreation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setFormatter(java.lang.String)"><!-- --></A><H3>
setFormatter</H3>
<PRE>
public boolean <B>setFormatter</B>(java.lang.String&nbsp;formatterLabel)</PRE>
<DL>
<DD>Set the default formatter to the one with the given label. The label can
 be retrieved from the ImageFormatter.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>formatterLabel</CODE> - String for a particular formatter.
<DT><B>Returns:</B><DD>true if label matches up with a known formatter, false if no
         formatter found.</DL>
</DD>
</DL>
<HR>

<A NAME="getFormatters()"><!-- --></A><H3>
getFormatters</H3>
<PRE>
public java.util.Hashtable <B>getFormatters</B>()</PRE>
<DL>
<DD>Get the Hashtable used to hold the ImageFormatters. The label for each
 one is the lookup for it in the Hashtable.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Hashtable of ImageFormatters.</DL>
</DD>
</DL>
<HR>

<A NAME="setFormatters(java.util.Hashtable, java.lang.String)"><!-- --></A><H3>
setFormatters</H3>
<PRE>
public void <B>setFormatters</B>(java.util.Hashtable&nbsp;iFormatters,
                          java.lang.String&nbsp;defaultFormatterKey)</PRE>
<DL>
<DD>Set the ImageFormatter Hashtable to set up the possible choices for image
 formats.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>iFormatters</CODE> - Hashtable of ImageFormatters<DD><CODE>defaultFormatterKey</CODE> - the key label of the formatter to use for a
        default.</DL>
</DD>
</DL>
<HR>

<A NAME="getFormatters(java.util.Properties)"><!-- --></A><H3>
getFormatters</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/image/ImageFormatter.html" title="interface in com.bbn.openmap.image">ImageFormatter</A> <B>getFormatters</B>(java.util.Properties&nbsp;p)</PRE>
<DL>
<DD>Create an ImageFormatter from the contents of a properties object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - Properties used to initialize the Properties.
<DT><B>Returns:</B><DD>default formatter.</DL>
</DD>
</DL>
<HR>

<A NAME="getLayers(java.util.Properties)"><!-- --></A><H3>
getLayers</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[] <B>getLayers</B>(java.util.Properties&nbsp;p)</PRE>
<DL>
<DD>Create an array of Layers from a properties object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLayers(java.util.Properties, java.util.Hashtable)"><!-- --></A><H3>
getLayers</H3>
<PRE>
protected <A HREF="../../../../com/bbn/openmap/Layer.html" title="class in com.bbn.openmap">Layer</A>[] <B>getLayers</B>(java.util.Properties&nbsp;p,
                            java.util.Hashtable&nbsp;instantiatedLayers)</PRE>
<DL>
<DD>Create an array of Layers from a properties object. Reuse the layer from
 the hashtable if it's there under the same property name. The Hashtable
 is kept for an ImageServer that is used buy an ImageMaster or another
 object that is using different layers for it's image. It will reuse the
 layers it's already created if the marker names are the same.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - properties<DD><CODE>instantiatedLayers</CODE> - a hashtable containing layers, with the prefix
        layer name used as the key.</DL>
</DD>
</DL>
<HR>

<A NAME="createImageFile(java.lang.String, java.util.Properties, com.bbn.openmap.proj.Projection, java.lang.String)"><!-- --></A><H3>
createImageFile</H3>
<PRE>
public static java.lang.String <B>createImageFile</B>(java.lang.String&nbsp;prefix,
                                               java.util.Properties&nbsp;props,
                                               <A HREF="../../../../com/bbn/openmap/proj/Projection.html" title="interface in com.bbn.openmap.proj">Projection</A>&nbsp;proj,
                                               java.lang.String&nbsp;outputPath)
                                        throws java.net.MalformedURLException,
                                               java.io.IOException</PRE>
<DL>
<DD>For convenience, to create an image file based on the contents of a
 properties file (like an openmap.properties file).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>prefix</CODE> - The prefix for the ImageServer properties (layers and
        formatters) to use in the properties file. If defined, then this
        method will look for 'prefix.layers' and prefix.formatters'
        properties. If null, then this method will look 'layers' and
        'formatters' properties.<DD><CODE>props</CODE> - The properties to use for defining the layers and plugins to
        use on the map image. Standard openmap.properties formats for
        layer definitions. See the standard openmap.properties file for
        more details on how to define layers and plugins.<DD><CODE>proj</CODE> - The projection to use for the map. If null, then the
        Environment projection properties will be looked for in the
        Properties.<DD><CODE>outputPath</CODE> - The output path for the image file. The image file
        should not have an appendix defined. This method will check which
        formatter is being used, and will assign one based on the image
        format (leave off the ., too).
<DT><B>Returns:</B><DD>the final path of the written image file, with the chosen
         appendix attached.
<DT><B>Throws:</B>
<DD><CODE>java.net.MalformedURLException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setBackground(java.awt.Paint)"><!-- --></A><H3>
setBackground</H3>
<PRE>
public void <B>setBackground</B>(java.awt.Paint&nbsp;bg)</PRE>
<DL>
<DD>Set the Paint to use for image backgrounds.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getBackground()"><!-- --></A><H3>
getBackground</H3>
<PRE>
public java.awt.Paint <B>getBackground</B>()</PRE>
<DL>
<DD>Get the Paint to use for image backgrounds.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="main(java.lang.String[])"><!-- --></A><H3>
main</H3>
<PRE>
public static void <B>main</B>(java.lang.String[]&nbsp;argv)</PRE>
<DL>
<DD>The ImageServer class main function will create a map image from a
 modified openmap.properties file.
 
 <pre>
                 
                  
                   java com.bbn.openmap.image.ImageServer -properties (path
                    to properties file) -file (path to output image) 
                   
                  
 </pre>
 
 <P>
 The path to the output image should not have an appendix on it, that will
 get assigned depending on what image format is used.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ImageServer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageScaler.html" title="class in com.bbn.openmap.image"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/bbn/openmap/image/ImageServerConstants.html" title="interface in com.bbn.openmap.image"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/bbn/openmap/image/ImageServer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ImageServer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright (C) BBNT Solutions LLC; See http://openmap.bbn.com/ for details
</BODY>
</HTML>
